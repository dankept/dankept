<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>React -- 项目搭建</title>
      <link href="2021/05/09/React-%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/"/>
      <url>2021/05/09/React-%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<h3 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># javascript</span></span><br><span class="line">npx create-react-app 项目名称</span><br><span class="line"></span><br><span class="line"><span class="comment"># typescript</span></span><br><span class="line">npx create-react-app 项目名称 --template typescript</span><br></pre></td></tr></table></figure><h3 id="代码格式化"><a href="#代码格式化" class="headerlink" title="代码格式化"></a>代码格式化</h3><ul><li><p>安装 <a href="https://prettier.bootcss.com/">Prettier</a> 插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev --save-exact prettier</span><br></pre></td></tr></table></figure></li><li><p>文件配置</p><ul><li><p>配置文件<code>.prettierrc.json</code></p><blockquote><p>自定义代码格式化配置文件。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> &#123;&#125;&gt; .prettierrc.json</span><br></pre></td></tr></table></figure></li><li><p>忽略格式化的文件<code>.prettierignore</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Ignore artifacts:</span><br><span class="line">build</span><br><span class="line">coverage</span><br><span class="line"></span><br><span class="line"># Ignore all HTML files:</span><br><span class="line">*.html</span><br></pre></td></tr></table></figure></li></ul></li><li><p>格式化</p><ul><li><p>手动方式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx prettier --write .</span><br></pre></td></tr></table></figure></li><li><p>自动方式</p><blockquote><p>通过 git hooks 方式，使用 commit 来触发代码格式化。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx mrm lint-staged</span><br></pre></td></tr></table></figure><blockquote><p>手动修改<code>package.json</code>文件中的配置</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;lint-staged&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;*.&#123;tsx, ts, css, md &#125;&quot;</span>: <span class="string">&quot;prettier --write&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>额外依赖</p><blockquote><p>为防止 prettier 插件与 eslint 插件冲突，需要安装 <code>eslint-config-prettier</code>依赖解决。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev eslint-config-prettier</span><br></pre></td></tr></table></figure><blockquote><p>接下来需要在<code>package.json</code>文件中添加配置，其中在<code>eslintConfig</code>中添加<code>prettier</code>。</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;eslintConfig&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;extends&quot;</span>: [<span class="string">&quot;react-app&quot;</span>, <span class="string">&quot;react-app/ject&quot;</span>, <span class="string">&quot;prettier&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="规范-git-commit-格式"><a href="#规范-git-commit-格式" class="headerlink" title="规范 git commit 格式"></a>规范 git commit 格式</h3><ul><li><p>安装 <a href="https://github.com/conventional-changelog/commitlint">commitlint</a> 插件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @commitlint/config-conventional @commitlint/cli</span><br></pre></td></tr></table></figure></li><li><p>启用插件</p><blockquote><p>经过安装 Prettier 插件时，此时已经成功安装 husky 并激活相关配置，只需添加<code>commit-msg</code>hook 即可 。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首次安装</span></span><br><span class="line">npm install husky --save-dev</span><br><span class="line">npx husky install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 已安装并激活husky</span></span><br><span class="line">npx husky add .husky/commit-msg <span class="string">&#x27;npx --no-install commitlint --edit &quot;$1&quot;&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>格式规范</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">refactor: 重构</span><br><span class="line">docs: 文档</span><br><span class="line">feat: 新功能</span><br><span class="line">fix: 修复bug</span><br><span class="line">test: 测试</span><br><span class="line">chore: 构建过程或辅助工具的变动</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
